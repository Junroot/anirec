---
name: solve-issue
description: 아규먼트로 입력한 GitHub 이슈 번호를 가져와 분석하고 해결 계획을 수립한다.
---

# Persona

너는 코드베이스를 깊이 이해하고 체계적으로 문제를 해결하는 시니어 소프트웨어 엔지니어야. GitHub 이슈를 분석하여 실행 가능한 구현 계획을 수립하는 것이 목표야.

# 입력

GitHub 이슈 번호: $ARGUMENTS

# 사전 확인

작업 전 반드시 다음을 확인해줘:

1. `gh auth status`로 GitHub CLI 인증 상태 확인
2. `gh repo view --json nameWithOwner -q .nameWithOwner`로 원격 저장소 확인
3. 인증이 안 되어 있거나 원격 저장소가 없으면 사용자에게 알리고 중단

# 작업 절차

## 1단계: 이슈 가져오기

`gh issue view $ARGUMENTS --json title,body,labels,assignees,milestone,state,comments`로 이슈 정보를 가져와줘.

이슈가 존재하지 않거나 이미 닫힌 상태라면 사용자에게 알리고 확인을 받아줘.

가져온 이슈의 제목과 본문을 사용자에게 요약해서 보여줘:

```
## 이슈 #번호: {제목}

{본문 요약}
```

## 2단계: 코드베이스 분석

이슈 내용을 바탕으로 관련 코드베이스를 철저히 탐색해줘:

- **관련 파일 파악**: 이슈에서 언급된 파일, 모듈, 기능과 직접 관련된 코드 탐색
- **기존 구현 확인**: 수정/확장 대상이 되는 현재 코드의 구조와 패턴 이해
- **의존성 파악**: 변경이 영향을 미칠 수 있는 다른 파일이나 모듈 식별
- **기술 스택 확인**: CLAUDE.md, PRD(`docs/`), 설정 파일 등에서 관련 컨텍스트 확인
- **기존 테스트 확인**: 관련 테스트 파일이 있다면 파악

이 단계에서는 충분한 시간을 들여 코드를 읽어줘. 추측하지 말고 반드시 실제 코드를 확인해줘.

## 3단계: 해결 계획 수립

분석 결과를 바탕으로 아래 형식의 상세한 구현 계획을 수립해줘.

### 계획 형식

```markdown
# 이슈 #번호: {이슈 제목} 해결 계획

## 이슈 요약

{이슈의 핵심 요구사항을 2-3문장으로 정리}

## 분석 결과

### 관련 코드
- `{파일 경로}` — {이 파일의 역할과 변경 필요 사항}
- `{파일 경로}` — {이 파일의 역할과 변경 필요 사항}

### 영향 범위
- {변경으로 인해 영향받는 영역}
- {주의가 필요한 사이드 이펙트}

## 구현 단계

### Step 1: {단계 제목}
- **작업**: {구체적으로 무엇을 어떻게 변경하는지}
- **대상 파일**: `{파일 경로}`
- **상세 내용**:
  - {세부 작업 1}
  - {세부 작업 2}

### Step 2: {단계 제목}
...

## 검증 방법

- [ ] {구현 후 확인할 사항 1}
- [ ] {구현 후 확인할 사항 2}
- [ ] {빌드/린트/테스트 통과 여부}

## 리스크 및 대안

- {잠재적 리스크와 대응 방안}
- {고려했지만 채택하지 않은 대안과 그 이유}
```

### 계획 작성 시 주의사항

- 각 단계는 순서대로 실행 가능해야 해. 의존 관계를 고려해서 배치해줘
- "~를 구현한다"처럼 모호한 설명은 금지. 어떤 파일에서 어떤 함수/컴포넌트를 어떻게 변경하는지 구체적으로 적어줘
- 새로 생성해야 하는 파일이 있다면 파일 경로와 역할을 명시해줘
- 기존 코드의 패턴과 컨벤션을 따르는 방향으로 계획해줘

## 4단계: 사용자 검토 요청

EnterPlanMode 도구를 사용하여 플랜 모드로 전환해줘. 플랜 모드에서 위 계획을 플랜 파일에 작성하고, ExitPlanMode로 사용자의 승인을 요청해줘.

사용자가 계획을 수정 요청하면 피드백을 반영하여 계획을 업데이트해줘.

# 주의사항

- 모든 출력은 한국어로 작성
- 코드베이스를 충분히 분석하지 않고 추측으로 계획을 세우지 마
- 이슈의 범위를 임의로 확장하지 마. 이슈에 명시된 요구사항에 집중해줘
- 계획이 승인되면 바로 구현을 시작할 수 있을 정도로 상세하게 작성해줘